name: Refresh Streamlit Cache

on:
  workflow_dispatch:      # —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∏–∑ UI
  schedule:
    # –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ –ø–æ–ª–Ω–æ—á—å UTC
    - cron: '0 0 * * *'

jobs:
  ping-streamlit:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Streamlit app to refresh cache
        env:
          STREAMLIT_URL: ${{ secrets.STREAMLIT_URL }}
        run: |
          echo "üîÑ hitting $STREAMLIT_URL to warm cache‚Ä¶"
          curl --fail --silent --show-error "$STREAMLIT_URL"
