name: Refresh Streamlit Cache

on:
  schedule:
    # ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð² Ð¿Ð¾Ð»Ð½Ð¾Ñ‡ÑŒ UTC
    - cron: '0 0 * * *'

jobs:
  ping-streamlit:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Streamlit app to refresh cache
        env:
          STREAMLIT_URL: ${{ secrets.STREAMLIT_URL }}
        run: |
          echo "ðŸ”„ hitting $STREAMLIT_URL to warm cacheâ€¦"
          curl --fail --silent --show-error "$STREAMLIT_URL"
